<sly data-sly-use.renderer="${'starrating.js'}"
     data-sly-use.clientlib="${'/libs/granite/sightly/templates/clientlib.html'}"
     data-sly-use.label="${renderer.labelPath}" data-sly-use.shortDescription="${renderer.shortDescriptionPath}"
     data-sly-use.longDescription="${renderer.longDescriptionPath}"
     data-sly-use.errorMessage="${renderer.errorMessagePath}" data-sly-use.questionMark="${renderer.questionMarkPath}">
</sly>
<div class="cmp-adaptiveform-starrating" data-cmp-is="adaptiveFormStarRating"
     data-sly-use.formstructparser="com.adobe.cq.forms.core.components.models.form.FormStructureParser"
     data-sly-use.starrating="com.corecomponents.core.models.StarRatingGroup"
     data-sly-use.component="com.adobe.cq.wcm.core.components.models.Component"
     id="${component.id}"
     data-cmp-adaptiveformcontainer-path="${formstructparser.formContainerPath}">

    <div data-sly-call="${label.label @componentId=starrating.id, labelValue=starrating.label.value, labelVisible=starrating.label.visible, bemBlock='cmp-adaptiveform-starrating'}" data-sly-unwrap></div>
    <div class="cmp-adaptiveform-starrating__widget">
        <div data-sly-list="${starrating.ratingList}" data-sly-unwrap>
            <input class="cmp-adaptiveform-starrating__option__widget" type="radio"
                   name="${component.id}"
                   id="${component.id} - ${itemList.index}"
                   value="${starrating.ratingList[itemList.index].toString}"
                   disabled="${!starrating.enabled || starrating.readOnly}"
                   aria-readonly="${starrating.readOnly ? 'true' : 'false'}"/>
            <label for="${component.id} - ${itemList.index}"></label>
        </div>
    </div>
    <div
            data-sly-call="${questionMark.questionMark @componentId=component.id, longDescription=starrating.description, bemBlock='cmp-adaptiveform-starrating'}"
            data-sly-unwrap></div>
    <div
            data-sly-call="${shortDescription.shortDescription @componentId=component.id, shortDescriptionVisible=starrating.tooltipVisible, shortDescription=starrating.tooltip, bemBlock='cmp-adaptiveform-starrating'}"
            data-sly-unwrap>
    </div>
    <div
            data-sly-call="${longDescription.longDescription @componentId=component.id, longDescription=starrating.description, bemBlock='cmp-adaptiveform-starrating'}"
            data-sly-unwrap></div>
    <div data-sly-call="${errorMessage.errorMessage @componentId=component.id, bemBlock='cmp-adaptiveform-starrating'}"
         data-sly-unwrap></div>
    <div>
    </div>
</div>

<sly data-sly-use.clientlibs="${'com.adobe.cq.wcm.core.components.models.ClientLibraries' @
    categories='core.forms.components.starrating.v1.runtime', defer=true}">
    ${clientlibs.jsAndCssIncludes @ context="unsafe"}
</sly>